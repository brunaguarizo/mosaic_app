"use client";
import classNames from "classnames";
import styles from "./Heading_Bar.module.css";
import Searchbar from "../Search_Bar/Search_Bar";
import { useRouter, usePathname } from "next/navigation";

function Headingbar({ heading, type, pagination }) {
    const router = useRouter();
    const pathname = usePathname();

    const handleBack = () => {
        router.back();
    };

    const handleSettingsClick = () => {
        router.push("/Settings");
    };

    const isVisible = (rowType) => type === rowType;

    const navigationRowClasses = classNames(styles.row, styles.navigationRow, {
        [styles.visible]: isVisible("navigation"),
        [styles.hidden]: !isVisible("navigation"),
    });

    const headingRowClasses = classNames(styles.row, styles.headingRow, {
        [styles.visible]: isVisible("heading"),
        [styles.hidden]: !isVisible("heading"),
    });

    const searchRowClasses = classNames(styles.row, styles.searchRow, {
        [styles.visible]: isVisible("search"),
        [styles.hidden]: !isVisible("search"),
    });

    const paginationRowClasses = classNames(styles.row, styles.paginationRow, {
        [styles.visible]: isVisible("pagination"),
        [styles.hidden]: !isVisible("pagination"),
    });

    if (type === "navigation") {
        return (
            <div className={styles.contentInner}>
                <div className={styles.navigationRow}>
                    <div
                        className={styles.backIcon}
                        onClick={handleBack}>
                        <svg
                            width='32'
                            height='32'
                            viewBox='0 0 32 32'
                            fill='none'
                            xmlns='http://www.w3.org/2000/svg'
                            className={styles.icon}>
                            <path
                                d='M11.4 16.9935L16.3 21.8935C16.5 22.0935 16.5958 22.3268 16.5875 22.5935C16.5792 22.8601 16.475 23.0935 16.275 23.2935C16.075 23.4768 15.8417 23.5726 15.575 23.581C15.3083 23.5893 15.075 23.4935 14.875 23.2935L8.275 16.6935C8.175 16.5935 8.10417 16.4851 8.0625 16.3685C8.02083 16.2518 8 16.1268 8 15.9935C8 15.8601 8.02083 15.7351 8.0625 15.6185C8.10417 15.5018 8.175 15.3935 8.275 15.2935L14.875 8.69346C15.0583 8.51012 15.2875 8.41846 15.5625 8.41846C15.8375 8.41846 16.075 8.51012 16.275 8.69346C16.475 8.89346 16.575 9.13096 16.575 9.40596C16.575 9.68096 16.475 9.91846 16.275 10.1185L11.4 14.9935H22.575C22.8583 14.9935 23.0958 15.0893 23.2875 15.281C23.4792 15.4726 23.575 15.7101 23.575 15.9935C23.575 16.2768 23.4792 16.5143 23.2875 16.706C23.0958 16.8976 22.8583 16.9935 22.575 16.9935H11.4Z'
                                fill='#141414'
                            />
                        </svg>
                    </div>
                    <div className={styles.heading}>{heading}</div>
                    <div className={styles.pagination}>{pagination}</div>
                </div>
            </div>
        );
    }

    if (type === "heading") {
        return (
            <div className={styles.contentInner}>
                <div className={styles.row}>
                    <div className={styles.heading}>{heading}</div>
                </div>
            </div>
        );
    }

    if (type === "search") {
        return (
            <div className={styles.contentInner}>
                <div className={styles.row}>
                    <div className={styles.heading}>{heading}</div>
                    <button className={styles.iconButton}>
                        <svg
                            width='16'
                            height='16'
                            viewBox='0 0 16 16'
                            fill='none'
                            xmlns='http://www.w3.org/2000/svg'
                            className={styles.icon}>
                            <path
                                d='M8.2123 9.65808L2.40869 15.4617C2.19155 15.6788 1.91519 15.7874 1.5796 15.7874C1.24402 15.7874 0.96766 15.6788 0.750518 15.4617C0.533376 15.2445 0.424805 14.9682 0.424805 14.6326C0.424805 14.297 0.533376 14.0207 0.750518 13.8035L6.55413 7.9999L0.750518 2.19629C0.533376 1.97915 0.424805 1.70279 0.424805 1.3672C0.424805 1.03162 0.533376 0.755257 0.750518 0.538115C0.96766 0.320973 1.24402 0.212402 1.5796 0.212402C1.91519 0.212402 2.19155 0.320973 2.40869 0.538115L8.2123 6.34173L14.0159 0.538115C14.2331 0.320973 14.5094 0.212402 14.845 0.212402C15.1806 0.212402 15.4569 0.320973 15.6741 0.538115C15.8912 0.755257 15.9998 1.03162 15.9998 1.3672C15.9998 1.70279 15.8912 1.97915 15.6741 2.19629L9.87048 7.9999L15.6741 13.8035C15.8912 14.0207 15.9998 14.297 15.9998 14.6326C15.9998 14.9682 15.8912 15.2445 15.6741 15.4617C15.4569 15.6788 15.1806 15.7874 14.845 15.7874C14.5094 15.7874 14.2331 15.6788 14.0159 15.4617L8.2123 9.65808Z'
                                fill='#141414'
                            />
                        </svg>
                    </button>
                </div>
            </div>
        );
    }

    if (type === "settings") {
        return (
            <div className={styles.contentInner}>
                <div className={styles.row}>
                    <div className={styles.backIcon}>
                        <svg
                            width='32'
                            height='32'
                            viewBox='0 0 32 32'
                            fill='none'
                            xmlns='http://www.w3.org/2000/svg'
                            className={styles.icon}>
                            <path
                                d='M11.4 16.9935L16.3 21.8935C16.5 22.0935 16.5958 22.3268 16.5875 22.5935C16.5792 22.8601 16.475 23.0935 16.275 23.2935C16.075 23.4768 15.8417 23.5726 15.575 23.581C15.3083 23.5893 15.075 23.4935 14.875 23.2935L8.275 16.6935C8.175 16.5935 8.10417 16.4851 8.0625 16.3685C8.02083 16.2518 8 16.1268 8 15.9935C8 15.8601 8.02083 15.7351 8.0625 15.6185C8.10417 15.5018 8.175 15.3935 8.275 15.2935L14.875 8.69346C15.0583 8.51012 15.2875 8.41846 15.5625 8.41846C15.8375 8.41846 16.075 8.51012 16.275 8.69346C16.475 8.89346 16.575 9.13096 16.575 9.40596C16.575 9.68096 16.475 9.91846 16.275 10.1185L11.4 14.9935H22.575C22.8583 14.9935 23.0958 15.0893 23.2875 15.281C23.4792 15.4726 23.575 15.7101 23.575 15.9935C23.575 16.2768 23.4792 16.5143 23.2875 16.706C23.0958 16.8976 22.8583 16.9935 22.575 16.9935H11.4Z'
                                fill='#141414'
                            />
                        </svg>
                    </div>
                    <div className={styles.heading}>{heading}</div>
                    <button
                        className={styles.iconButton}
                        onClick={handleSettingsClick}>
                        <svg
                            width='20'
                            height='21'
                            viewBox='0 0 20 21'
                            fill='none'
                            xmlns='http://www.w3.org/2000/svg'>
                            <path
                                d='M9.30496 20.5C8.85496 20.5 8.46746 20.35 8.14246 20.05C7.81746 19.75 7.62163 19.3833 7.55496 18.95L7.32996 17.3C7.11329 17.2167 6.90913 17.1167 6.71746 17C6.52579 16.8833 6.33829 16.7583 6.15496 16.625L4.60496 17.275C4.18829 17.4583 3.77163 17.475 3.35496 17.325C2.93829 17.175 2.61329 16.9083 2.37996 16.525L1.20496 14.475C0.971628 14.0917 0.904961 13.6833 1.00496 13.25C1.10496 12.8167 1.32996 12.4583 1.67996 12.175L3.00496 11.175C2.98829 11.0583 2.97996 10.9458 2.97996 10.8375V10.1625C2.97996 10.0542 2.98829 9.94167 3.00496 9.825L1.67996 8.825C1.32996 8.54167 1.10496 8.18333 1.00496 7.75C0.904961 7.31667 0.971628 6.90833 1.20496 6.525L2.37996 4.475C2.61329 4.09167 2.93829 3.825 3.35496 3.675C3.77163 3.525 4.18829 3.54167 4.60496 3.725L6.15496 4.375C6.33829 4.24167 6.52996 4.11667 6.72996 4C6.92996 3.88333 7.12996 3.78333 7.32996 3.7L7.55496 2.05C7.62163 1.61667 7.81746 1.25 8.14246 0.95C8.46746 0.65 8.85496 0.5 9.30496 0.5H11.655C12.105 0.5 12.4925 0.65 12.8175 0.95C13.1425 1.25 13.3383 1.61667 13.405 2.05L13.63 3.7C13.8466 3.78333 14.0508 3.88333 14.2425 4C14.4341 4.11667 14.6216 4.24167 14.805 4.375L16.355 3.725C16.7716 3.54167 17.1883 3.525 17.605 3.675C18.0216 3.825 18.3466 4.09167 18.58 4.475L19.755 6.525C19.9883 6.90833 20.055 7.31667 19.955 7.75C19.855 8.18333 19.63 8.54167 19.28 8.825L17.955 9.825C17.9716 9.94167 17.98 10.0542 17.98 10.1625V10.8375C17.98 10.9458 17.9633 11.0583 17.93 11.175L19.255 12.175C19.605 12.4583 19.83 12.8167 19.93 13.25C20.03 13.6833 19.9633 14.0917 19.73 14.475L18.53 16.525C18.2966 16.9083 17.9716 17.175 17.555 17.325C17.1383 17.475 16.7216 17.4583 16.305 17.275L14.805 16.625C14.6216 16.7583 14.43 16.8833 14.23 17C14.03 17.1167 13.83 17.2167 13.63 17.3L13.405 18.95C13.3383 19.3833 13.1425 19.75 12.8175 20.05C12.4925 20.35 12.105 20.5 11.655 20.5H9.30496ZM9.47996 18.5H11.455L11.805 15.85C12.3216 15.7167 12.8008 15.5208 13.2425 15.2625C13.6841 15.0042 14.0883 14.6917 14.455 14.325L16.93 15.35L17.905 13.65L15.755 12.025C15.8383 11.7917 15.8966 11.5458 15.93 11.2875C15.9633 11.0292 15.98 10.7667 15.98 10.5C15.98 10.2333 15.9633 9.97083 15.93 9.7125C15.8966 9.45417 15.8383 9.20833 15.755 8.975L17.905 7.35L16.93 5.65L14.455 6.7C14.0883 6.31667 13.6841 5.99583 13.2425 5.7375C12.8008 5.47917 12.3216 5.28333 11.805 5.15L11.48 2.5H9.50496L9.15496 5.15C8.63829 5.28333 8.15913 5.47917 7.71746 5.7375C7.27579 5.99583 6.87163 6.30833 6.50496 6.675L4.02996 5.65L3.05496 7.35L5.20496 8.95C5.12163 9.2 5.06329 9.45 5.02996 9.7C4.99663 9.95 4.97996 10.2167 4.97996 10.5C4.97996 10.7667 4.99663 11.025 5.02996 11.275C5.06329 11.525 5.12163 11.775 5.20496 12.025L3.05496 13.65L4.02996 15.35L6.50496 14.3C6.87163 14.6833 7.27579 15.0042 7.71746 15.2625C8.15913 15.5208 8.63829 15.7167 9.15496 15.85L9.47996 18.5ZM10.53 14C11.4966 14 12.3216 13.6583 13.005 12.975C13.6883 12.2917 14.03 11.4667 14.03 10.5C14.03 9.53333 13.6883 8.70833 13.005 8.025C12.3216 7.34167 11.4966 7 10.53 7C9.54663 7 8.71746 7.34167 8.04246 8.025C7.36746 8.70833 7.02996 9.53333 7.02996 10.5C7.02996 11.4667 7.36746 12.2917 8.04246 12.975C8.71746 13.6583 9.54663 14 10.53 14Z'
                                fill='#141414'
                            />
                        </svg>
                    </button>
                </div>
            </div>
        );
    }

    return null;
}

export default Headingbar;
